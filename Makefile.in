# makefile for karel 1.0	11/6/85

SRCS = code.c klex.c main.c scr.c symbol.c y.tab.c
HDRS = help.h karel.h words.h y.tab.h
OBJS = $(SRCS:.c=.o)

CC = @CC@
CFLAGS = @CFLAGS@ @DEFS@
LDFLAGS = @LIBS@

YACC = @YACC@
YFLAGS = -d

default:	$(SRCS) $(HDRS) karel

karel:		$(OBJS)
		$(LINK.c) -o karel $(OBJS)

$(OBJS):	karel.h

y.tab.c y.tab.h:	karel.y
	$(YACC.y) karel.y
#		yacc -d karel.y

scr.o:		help.h

clean:
	$(RM) *.o karel y.tab.h y.tab.c TAGS

distclean:	clean
	$(RM) *~

depend:	$(SRCS) $(HDRS)
	makedepend $(SRCS) $(HDRS)

TAGS: $(SRCS) $(HDRS)
	etags $(SRCS) $(HDRS)

tags:	TAGS
